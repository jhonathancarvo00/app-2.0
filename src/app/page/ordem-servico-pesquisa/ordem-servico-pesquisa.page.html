<ion-header class="os-header">
  <ion-toolbar lines="none">
    <div class="os-header-bar">
      <button class="os-back-btn" (click)="onBack()">
        <img src="../../assets/icon/topoRequest.svg" alt="Voltar" />
      </button>

      <h1 class="os-title">Ordem de Serviço - Pesquisa</h1>

      <div class="os-header-spacer"></div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="os-content">
  <div class="os-page">
    <!-- Lista de OS -->
    <ng-container *ngIf="listaOs?.length; else semResultado">
      <div class="os-card" *ngFor="let os of listaOs">
        <div class="os-card-row">
          <span class="os-card-label">N° OS:</span>
          <span class="os-card-value">{{ os.numeroOs }}</span>
          <span class="os-card-status">{{ os.status }}</span>
        </div>

        <div class="os-card-row">
          <span class="os-card-label">Empreendimento:</span>
          <span class="os-card-value">{{ os.empreendimento }}</span>
        </div>

        <div class="os-card-row">
          <span class="os-card-label">Equipamento:</span>
          <span class="os-card-value">{{ os.equipamento }}</span>
        </div>

        <div class="os-card-row">
          <span class="os-card-label">Data Abertura:</span>
          <span class="os-card-value">{{ os.dataAbertura }}</span>
        </div>

        <div class="os-card-row">
          <span class="os-card-label">Data Conclusão:</span>
          <span class="os-card-value">
            {{ os.dataConclusao || '-' }}
          </span>
        </div>

        <div class="os-card-footer">
          <button class="os-details-btn" (click)="verDetalhes(os)">
            VER DETALHES
          </button>
        </div>
      </div>
    </ng-container>

    <!-- Estado vazio -->
    <ng-template #semResultado>
      <div class="os-empty">
        <p>Nenhuma Ordem de Serviço encontrada.</p>
      </div>
    </ng-template>
  </div>
</ion-content>
