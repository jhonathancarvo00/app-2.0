<ion-header class="os-header">
  <ion-toolbar lines="none">
    <div class="os-header-bar">
      <!-- Ícone casinha padrão -->
      <button class="os-back-btn" (click)="onBack()">
        <img src="../../assets/icon/topoRequest.svg" alt="Voltar" />
      </button>

      <h1 class="os-title">Ordem de Serviço - Pesquisa</h1>

      <div class="os-header-spacer"></div>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content class="os-content">
  <div class="os-page">

    <!-- Lista de OS -->
    <div
      class="os-card"
      *ngFor="let os of ordens"
    >
      <div class="os-card-header">
        <div class="os-card-os">
          OS: {{ os.numeroOs || os.id }}
        </div>
        <div class="os-card-status">
          {{ os.statusTexto || 'Status' }}
        </div>
      </div>

      <div class="os-card-body">

        <div class="os-line">
          <span class="os-label">Descrição:</span>
          <span class="os-value">{{ os.descricao }}</span>
        </div>

        <div class="os-line">
          <span class="os-label">Empreendimento:</span>
          <span class="os-value">{{ os.empreendimento }}</span>
        </div>

        <div class="os-line">
          <span class="os-label">Equipamento:</span>
          <span class="os-value">{{ os.equipamento }}</span>
        </div>

        <div class="os-line">
          <span class="os-label">Operador / Motorista:</span>
          <span class="os-value">{{ os.operador || os.operadorMotorista }}</span>
        </div>

        <div class="os-line">
          <span class="os-label">Manutentor:</span>
          <span class="os-value">{{ os.manutentor }}</span>
        </div>

        <div class="os-dates-row">
          <div class="os-date-block">
            <span class="os-label">Data Abertura:</span>
            <span class="os-value">{{ os.dataAbertura }}</span>
          </div>
          <div class="os-date-block">
            <span class="os-label">Data Conclusão:</span>
            <span class="os-value">{{ os.dataConclusao }}</span>
          </div>
        </div>
      </div>

      <div class="os-card-footer">
        <button
          type="button"
          class="os-details-btn"
          (click)="verDetalhes(os)"
        >
          VER DETALHES
        </button>
      </div>
    </div>

    <!-- Caso não tenha resultado -->
    <div class="os-empty" *ngIf="ordens.length === 0">
      Nenhuma ordem de serviço encontrada.
    </div>

  </div>
</ion-content>